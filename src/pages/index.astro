---
import { Image } from "astro:assets";
import { getCollection } from "astro:content";

import BaseLayout from "../layouts/Base.astro";
import BlogListEntry from "../components/BlogListEntry.astro";

import me from "../assets/me.webp";

const title = "home";
const description = "Homepage for Alex LaFroscia's web site";

const latestPost = (await getCollection("blog")).sort(
    (a, b) => b.data.date.valueOf() - a.data.date.valueOf(),
)[0];
---

<BaseLayout {title} {description}>
    <section class="w-readable mx-auto max-w-full p-4">
        <div class="-rotate-1 rounded bg-blue-200 p-5">
            <div class="flex rotate-1 gap-8 rounded bg-white p-8 text-black">
                <Image
                    class="w-1/4"
                    alt="Alex LaFroscia and his Australian Shepherd, Rayla"
                    src={me}
                />
                <div class="flex flex-col gap-2">
                    <h1 class="text-3xl">
                        <span class="motion-safe:animate-wave inline-block">ðŸ‘‹</span> Hello!
                    </h1>
                    <p>This is some text</p>
                </div>
            </div>
        </div>
    </section>

    <section class="w-readable mx-auto mt-10 max-w-full p-4">
        <h2 class="text-2xl font-bold">Latest Post!</h2>
        <BlogListEntry post={latestPost} />
    </section>

    <section class="w-readable mx-auto mt-10 max-w-full p-4">
        <ul class="flex gap-4">
            <li class="w-1/4 bg-blue-100 p-4 transition-colors hover:bg-blue-500">
                <a class="flex aspect-square flex-col justify-between" href="/tech">
                    <h2 class="text-2xl font-bold">tech</h2>
                    <p>Posts about tools and code</p>
                </a>
            </li>
            <li class="w-1/4 bg-amber-100 p-4 transition-colors hover:bg-amber-500">
                <a class="flex aspect-square flex-col justify-between" href="/games">
                    <h2 class="text-2xl font-bold">games</h2>
                    <p>Posts about tech, tools and code</p>
                </a>
            </li>
        </ul>
    </section>
</BaseLayout>
