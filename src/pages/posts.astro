---
import { getCollection } from "astro:content";

import BaseLayout from "../layouts/Base.astro";

import Header from "../components/Header.astro";
import PostList from "../components/PostList.astro";

const title = "All Posts";
const description = "All Posts by Alex LaFroscia";

const posts = (await getCollection("posts")).sort(
    (a, b) => b.data.date.valueOf() - a.data.date.valueOf(),
);
---

<BaseLayout {title} {description}>
    <Header {title} />

    <div class="px-4">
        <section class="w-readable mx-auto flex max-w-full flex-col gap-2">
            <PostList posts={posts} />
        </section>
    </div>
</BaseLayout>
